{% extends "base.html" %}

{% block content %}
<div class="bg-white rounded-3xl shadow-sm border border-stone-100 overflow-hidden">
    <div class="md:flex">
        <!-- Product Image -->
        <div class="md:w-1/2 bg-stone-50">
            {% if product.image %}
            <img src="{{ product.image.url }}" alt="{{ product.title }}"
                class="w-full h-full object-cover min-h-[500px]">
            {% else %}
            <div class="w-full h-[500px] bg-stone-100 flex items-center justify-center text-stone-400">
                No Image
            </div>
            {% endif %}
        </div>

        <!-- Product Details -->
        <div class="md:w-1/2 p-10 flex flex-col justify-center">
            <div class="mb-6">
                <span
                    class="inline-block bg-amber-100 text-amber-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide mb-3">{{
                    product.category.name }}</span>
                <h1 class="text-4xl font-bold text-stone-800 leading-tight">{{ product.title }}</h1>
            </div>

            <p class="text-stone-600 mb-8 leading-relaxed text-lg">{{ product.description }}</p>

            <div class="text-4xl font-bold text-stone-900 mb-8">${{ product.price }}</div>

            <form action="{% url 'add_to_cart' product.id %}" method="POST">
                {% csrf_token %}

                {% if colors %}
                <div class="mb-6">
                    <label class="block text-stone-700 font-bold mb-3 text-sm uppercase tracking-wide">Select
                        Color</label>
                    <div class="flex space-x-3">
                        {% for color in colors %}
                        <label class="cursor-pointer group relative">
                            <input type="radio" name="color" value="{{ color.id }}" class="sr-only peer">
                            <div class="w-10 h-10 rounded-full border-2 border-stone-200 peer-checked:border-amber-600 peer-checked:ring-2 peer-checked:ring-amber-200 transition-all duration-200 shadow-sm"
                                style="background-color: {{ color.code }};"></div>
                            <span
                                class="absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-stone-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none">{{
                                color.name }}</span>
                        </label>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}

                {% if sizes %}
                <div class="mb-8">
                    <label class="block text-stone-700 font-bold mb-3 text-sm uppercase tracking-wide">Select
                        Size</label>
                    <div class="flex space-x-3">
                        {% for size in sizes %}
                        <label class="cursor-pointer">
                            <input type="radio" name="size" value="{{ size.id }}" class="sr-only peer">
                            <div
                                class="w-12 h-12 flex items-center justify-center border-2 border-stone-200 rounded-lg text-stone-600 font-medium hover:border-amber-400 peer-checked:bg-stone-800 peer-checked:text-white peer-checked:border-stone-800 transition-all duration-200">
                                {{ size.code }}
                            </div>
                        </label>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}

                <div class="flex items-center space-x-6 pt-6 border-t border-stone-100">
                    <div class="w-32">
                        <label class="block text-stone-700 font-bold mb-2 text-sm uppercase tracking-wide"
                            for="quantity">Quantity</label>
                        <div class="relative">
                            <input type="number" id="quantity" name="quantity" value="1" min="1"
                                class="w-full border-2 border-stone-200 rounded-lg px-4 py-3 focus:outline-none focus:border-amber-500 font-bold text-center text-lg">
                        </div>
                    </div>
                    <button type="submit"
                        class="flex-1 bg-stone-800 text-white font-bold py-4 px-8 rounded-xl hover:bg-amber-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-lg">
                        Add to Cart
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock content %}